task.spawn(function()
    local RunService = game:GetService("RunService")
    local Zombies = {}
    local player = game.Players.LocalPlayer

    -- T·∫°o BillboardGui ESP
    local function createESP(zombie)
        if zombie:FindFirstChild("Head") and not zombie:FindFirstChild("Dog_ZombieMiner") then
            local billboard = Instance.new("BillboardGui")
            billboard.Name = "Dog_ZombieMiner"
            billboard.Adornee = zombie.Head
            billboard.Size = UDim2.new(0, 100, 0, 30)
            billboard.StudsOffset = Vector3.new(0, 2, 0)
            billboard.AlwaysOnTop = true
            billboard.Parent = zombie

            local textLabel = Instance.new("TextLabel")
            textLabel.Size = UDim2.new(1, 0, 1, 0)
            textLabel.BackgroundTransparency = 1
            textLabel.Text = "Dog Minerüí•"
            textLabel.TextColor3 = Color3.new(95, 155, 0) -- Xanh l√°
            textLabel.TextStrokeTransparency = 0 -- C√≥ vi·ªÅn ch·ªØ
            textLabel.Font = Enum.Font.GothamBold
            textLabel.TextScaled = true
            textLabel.Parent = billboard
        end
    end

    -- Xo√° ESP khi ZombieMiner ch·∫øt
    local function removeESP(zombie)
        local esp = zombie:FindFirstChild("Model_ZombieMiner")
        if esp then
            esp:Destroy()
        end
    end

    -- Ki·ªÉm tra n·∫øu l√† ZombieMiner
    local function isModel_ZombieMiner(obj)
        return obj:IsA("Model") 
            and obj.Name == "Model_ZombieMiner"
            and obj:FindFirstChild("Humanoid") 
            and obj:FindFirstChild("Head")
            and obj:FindFirstChild("HumanoidRootPart")
    end

    -- Qu√©t ZombieMiner c√≥ s·∫µn
    for _, obj in ipairs(workspace:GetDescendants()) do
        if isModel_ZombieMiner(obj) then
            Zombies[obj] = true
            createESP(obj)
        end
    end

    -- Theo d√µi ZombieMiner m·ªõi sinh ra
    workspace.DescendantAdded:Connect(function(obj)
        if isModel_ZombieMiner(obj) then
            Zombies[obj] = true
            createESP(obj)
        end
    end)

    -- V√≤ng l·∫∑p ki·ªÉm tra li√™n t·ª•c
    RunService.Heartbeat:Connect(function()
        for zombie in pairs(Zombies) do
            if not zombie.Parent or zombie:FindFirstChild("Humanoid") and zombie.Humanoid.Health <= 0 then
                removeESP(zombie)
                Zombies[zombie] = nil
            end
        end
    end)
end)
